import{g as O}from"./DocsRenderer-7FRJXR4N.4b8a157e.js";import{e as b,G as R,J as L,g as T,I as G,r as u,R as d}from"./index.2635fe35.js";import{t as X,Z as z,H as B,u as V,c as g}from"./throttle.70d77773.js";import"./iframe.618c9d41.js";import"../sb-preview/runtime.mjs";import"./index.e850844b.js";import"./_baseAssignValue.8149923b.js";import"./_commonjsHelpers.712cc82f.js";import"./index.b06c8f14.js";import"./index.f1e20297.js";import"./index.67736049.js";import"./preview.521f3633.js";var M=b.div({position:"relative",maxWidth:250}),W=b(R)({position:"absolute",zIndex:1,top:4,left:4}),F=b.div({width:200,margin:5,".react-colorful__saturation":{borderRadius:"4px 4px 0 0"},".react-colorful__hue":{boxShadow:"inset 0 0 0 1px rgb(0 0 0 / 5%)"},".react-colorful__last-control":{borderRadius:"0 0 4px 4px"}}),N=b(L)(({theme:e})=>({fontFamily:e.typography.fonts.base})),A=b.div({display:"grid",gridTemplateColumns:"repeat(9, 16px)",gap:6,padding:3,marginTop:5,width:200}),j=b.div(({theme:e,active:t})=>({width:16,height:16,boxShadow:t?`${e.appBorderColor} 0 0 0 1px inset, ${e.textMutedColor}50 0 0 0 4px`:`${e.appBorderColor} 0 0 0 1px inset`,borderRadius:e.appBorderRadius})),J=`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,S=({value:e,active:t,onClick:s,style:i,...a})=>{let o=`linear-gradient(${e}, ${e}), ${J}, linear-gradient(#fff, #fff)`;return d.createElement(j,{...a,active:t,onClick:s,style:{...i,backgroundImage:o}})},Z=b(T.Input)(({theme:e})=>({width:"100%",paddingLeft:30,paddingRight:30,boxSizing:"border-box",fontFamily:e.typography.fonts.base})),q=b(G)(({theme:e})=>({position:"absolute",zIndex:1,top:6,right:7,width:20,height:20,padding:4,boxSizing:"border-box",cursor:"pointer",color:e.input.color})),_=(e=>(e.RGB="rgb",e.HSL="hsl",e.HEX="hex",e))(_||{}),w=Object.values(_),D=/\(([0-9]+),\s*([0-9]+)%?,\s*([0-9]+)%?,?\s*([0-9.]+)?\)/,K=/^\s*rgba?\(([0-9]+),\s*([0-9]+),\s*([0-9]+),?\s*([0-9.]+)?\)\s*$/i,Q=/^\s*hsla?\(([0-9]+),\s*([0-9]+)%,\s*([0-9]+)%,?\s*([0-9.]+)?\)\s*$/i,k=/^\s*#?([0-9a-f]{3}|[0-9a-f]{6})\s*$/i,U=/^\s*#?([0-9a-f]{3})\s*$/i,Y={hex:z,rgb:B,hsl:V},y={hex:"transparent",rgb:"rgba(0, 0, 0, 0)",hsl:"hsla(0, 0%, 0%, 0)"},v=e=>{let t=e==null?void 0:e.match(D);if(!t)return[0,0,0,1];let[,s,i,a,o=1]=t;return[s,i,a,o].map(Number)},f=e=>{if(!e)return;let t=!0;if(K.test(e)){let[n,r,h,c]=v(e),[m,p,l]=g.rgb.hsl([n,r,h])||[0,0,0];return{valid:t,value:e,keyword:g.rgb.keyword([n,r,h]),colorSpace:"rgb",rgb:e,hsl:`hsla(${m}, ${p}%, ${l}%, ${c})`,hex:`#${g.rgb.hex([n,r,h]).toLowerCase()}`}}if(Q.test(e)){let[n,r,h,c]=v(e),[m,p,l]=g.hsl.rgb([n,r,h])||[0,0,0];return{valid:t,value:e,keyword:g.hsl.keyword([n,r,h]),colorSpace:"hsl",rgb:`rgba(${m}, ${p}, ${l}, ${c})`,hsl:e,hex:`#${g.hsl.hex([n,r,h]).toLowerCase()}`}}let s=e.replace("#",""),i=g.keyword.rgb(s)||g.hex.rgb(s),a=g.rgb.hsl(i),o=e;if(/[^#a-f0-9]/i.test(e)?o=s:k.test(e)&&(o=`#${s}`),o.startsWith("#"))t=k.test(o);else try{g.keyword.hex(o)}catch(n){t=!1}return{valid:t,value:o,keyword:g.rgb.keyword(i),colorSpace:"hex",rgb:`rgba(${i[0]}, ${i[1]}, ${i[2]}, 1)`,hsl:`hsla(${a[0]}, ${a[1]}%, ${a[2]}%, 1)`,hex:o}},ee=(e,t,s)=>{if(!e||!(t!=null&&t.valid))return y[s];if(s!=="hex")return(t==null?void 0:t[s])||y[s];if(!t.hex.startsWith("#"))try{return`#${g.keyword.hex(t.hex)}`}catch(r){return y.hex}let i=t.hex.match(U);if(!i)return k.test(t.hex)?t.hex:y.hex;let[a,o,n]=i[1].split("");return`#${a}${a}${o}${o}${n}${n}`},te=(e,t)=>{let[s,i]=u.exports.useState(e||""),[a,o]=u.exports.useState(()=>f(s)),[n,r]=u.exports.useState((a==null?void 0:a.colorSpace)||"hex");u.exports.useEffect(()=>{let p=e||"",l=f(p);i(p),o(l),r((l==null?void 0:l.colorSpace)||"hex")},[e]);let h=u.exports.useMemo(()=>ee(s,a,n).toLowerCase(),[s,a,n]),c=u.exports.useCallback(p=>{let l=f(p),$=(l==null?void 0:l.value)||p||"";i($),$===""&&(o(void 0),t(void 0)),l&&(o(l),r(l.colorSpace),t(l.value))},[t]),m=u.exports.useCallback(()=>{let p=w.indexOf(n)+1;p>=w.length&&(p=0),r(w[p]);let l=(a==null?void 0:a[w[p]])||"";i(l),t(l)},[a,n,t]);return{value:s,realValue:h,updateValue:c,color:a,colorSpace:n,cycleColorSpace:m}},E=e=>e.replace(/\s*/,"").toLowerCase(),re=(e,t,s)=>{let[i,a]=u.exports.useState(t!=null&&t.valid?[t]:[]);u.exports.useEffect(()=>{t===void 0&&a([])},[t]);let o=u.exports.useMemo(()=>(e||[]).map(r=>typeof r=="string"?f(r):r.title?{...f(r.color),keyword:r.title}:f(r.color)).concat(i).filter(Boolean).slice(-27),[e,i]),n=u.exports.useCallback(r=>{r!=null&&r.valid&&(o.some(h=>E(h[s])===E(r[s]))||a(h=>h.concat(r)))},[s,o]);return{presets:o,addPreset:n}},ae=({name:e,value:t,onChange:s,onFocus:i,onBlur:a,presetColors:o,startOpen:n=!1})=>{let r=u.exports.useCallback(X(s,200),[s]),{value:h,realValue:c,updateValue:m,color:p,colorSpace:l,cycleColorSpace:$}=te(t,r),{presets:C,addPreset:P}=re(o,p,l),H=Y[l];return d.createElement(M,null,d.createElement(W,{startOpen:n,closeOnOutsideClick:!0,onVisibleChange:()=>P(p),tooltip:d.createElement(F,null,d.createElement(H,{color:c==="transparent"?"#000000":c,onChange:m,onFocus:i,onBlur:a}),C.length>0&&d.createElement(A,null,C.map((x,I)=>d.createElement(R,{key:`${x.value}-${I}`,hasChrome:!1,tooltip:d.createElement(N,{note:x.keyword||x.value})},d.createElement(S,{value:x[l],active:p&&E(x[l])===E(p[l]),onClick:()=>m(x.value)})))))},d.createElement(S,{value:c,style:{margin:4}})),d.createElement(Z,{id:O(e),value:h,onChange:x=>m(x.target.value),onFocus:x=>x.target.select(),placeholder:"Choose color..."}),h?d.createElement(q,{icon:"markup",onClick:$}):null)},me=ae;export{ae as ColorControl,me as default};
//# sourceMappingURL=Color-3YIJY6X7.e9e308e9.js.map

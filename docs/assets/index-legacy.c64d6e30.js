!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}System.register(["./index-legacy.7559ad7b.js"],(function(r,c){"use strict";var u;return{setters:[function(t){u=t.s}],execute:function(){r("i",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n,r,i,o,a=!1,s=!1;return null!==(n=u.window.location)&&void 0!==n&&null!==(r=n.search)&&void 0!==r&&r.includes("instrument=true")?a=!0:(null===(i=u.window.location)||void 0===i||null===(o=i.search)||void 0===o?void 0:o.includes("instrument=false"))&&(s=!0),u.window.parent===u.window&&!a||s?t:(u.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__||(u.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new C),u.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__.instrument(t,e))}catch(l){return y.warn(l),t}}));var c,f=__STORYBOOK_MODULE_PREVIEW_API__.addons,d=__STORYBOOK_MODULE_CLIENT_LOGGER__,y=d.once,v=d.logger,g=__STORYBOOK_MODULE_CORE_EVENTS__,_=g.FORCE_REMOUNT,h=g.IGNORED_EXCEPTION,p=g.SET_CURRENT_STORY,b=g.STORY_RENDER_PHASE_CHANGED,O=((c=O||{}).DONE="done",c.ERROR="error",c.ACTIVE="active",c.WAITING="waiting",c),m="storybook/instrumenter/call",S="storybook/instrumenter/sync",I="storybook/instrumenter/start",w="storybook/instrumenter/back",E="storybook/instrumenter/goto",R="storybook/instrumenter/next",T="storybook/instrumenter/end",j={start:!1,back:!1,goto:!1,next:!1,end:!1},N=new Error("This function ran after the play function completed. Did you forget to `await` it?"),k=function(t){return"[object Object]"===Object.prototype.toString.call(t)},A=function(t){if(!k(t)&&!function(t){return"[object Module]"===Object.prototype.toString.call(t)}(t))return!1;if(void 0===t.constructor)return!0;var e=t.constructor.prototype;return!(!k(e)||!1===Object.prototype.hasOwnProperty.call(e,"isPrototypeOf"))},P=function(){return{renderPhase:void 0,isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,ancestors:[],playUntil:void 0,resolvers:{},syncTimeout:void 0}},D=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.shadowCalls:t.calls).filter((function(t){return t.retain}));if(e.length){var n=new Map(Array.from(t.callRefsByResult.entries()).filter((function(t){return l(t,2)[1].retain})));return{cursor:e.length,calls:e,callRefsByResult:n}}},C=function(){function r(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.initialized=!1,this.channel=f.getChannel(),this.state=u.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__||{};var e=function(e){var n=e.storyId,r=e.isPlaying,o=void 0===r||r,a=e.isDebugging,s=void 0!==a&&a,l=t.getState(n);t.setState(n,i(i(i({},P()),D(l,s)),{},{shadowCalls:s?l.shadowCalls:[],chainedCallIds:s?l.chainedCallIds:new Set,playUntil:s?l.playUntil:void 0,isPlaying:o,isDebugging:s})),t.sync(n)};this.channel.on(_,e),this.channel.on(b,(function(n){var r=n.storyId,i=n.newPhase,o=t.getState(r).isDebugging;t.setState(r,{renderPhase:i}),"preparing"===i&&o&&e({storyId:r}),"playing"===i&&e({storyId:r,isDebugging:o}),"played"===i&&t.setState(r,{isLocked:!1,isPlaying:!1,isDebugging:!1}),"errored"===i&&t.setState(r,{isLocked:!1,isPlaying:!1})})),this.channel.on(p,(function(){t.initialized?t.cleanup():t.initialized=!0}));var n=function(e){var n=e.storyId,r=e.playUntil;t.getState(n).isDebugging||t.setState(n,(function(t){return{calls:[],shadowCalls:t.calls.map((function(t){return i(i({},t),{},{status:"waiting"})})),isDebugging:!0}}));var o=t.getLog(n);t.setState(n,(function(t){var e,n=t.shadowCalls;if(r||!o.length)return{playUntil:r};var i=n.findIndex((function(t){return t.id===o[0].callId}));return{playUntil:null===(e=n.slice(0,i).filter((function(t){return t.interceptable&&!t.ancestors.length})).slice(-1)[0])||void 0===e?void 0:e.id}})),t.channel.emit(_,{storyId:n,isDebugging:!0})},o=function(e){var n=e.storyId;t.setState(n,{playUntil:void 0,isDebugging:!1}),Object.values(t.getState(n).resolvers).forEach((function(t){return t()}))};this.channel.on(I,n),this.channel.on(w,(function(e){var r,i=e.storyId,o=t.getLog(i).filter((function(t){return!t.ancestors.length})),a=o.reduceRight((function(t,e,n){return t>=0||"waiting"===e.status?t:n}),-1);n({storyId:i,playUntil:null===(r=o[a-1])||void 0===r?void 0:r.callId})})),this.channel.on(E,(function(e){var r=e.storyId,i=e.callId,o=t.getState(r),a=o.calls,s=o.shadowCalls,l=o.resolvers,c=a.find((function(t){return t.id===i})),u=s.find((function(t){return t.id===i}));if(!c&&u&&Object.values(l).length>0){var f,d=null===(f=t.getLog(r).find((function(t){return"waiting"===t.status})))||void 0===f?void 0:f.callId;u.id!==d&&t.setState(r,{playUntil:u.id}),Object.values(l).forEach((function(t){return t()}))}else n({storyId:r,playUntil:i})})),this.channel.on(R,(function(e){var r=e.storyId,i=t.getState(r).resolvers;if(Object.values(i).length>0)Object.values(i).forEach((function(t){return t()}));else{var a,s=null===(a=t.getLog(r).find((function(t){return"waiting"===t.status})))||void 0===a?void 0:a.callId;s?n({storyId:r,playUntil:s}):o({storyId:r})}})),this.channel.on(T,o)}var c,d,y;return c=r,d=[{key:"getState",value:function(t){return this.state[t]||P()}},{key:"setState",value:function(t,e){var n=this.getState(t),r="function"==typeof e?e(n):e;this.state=i(i({},this.state),{},o({},t,i(i({},n),r))),u.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state}},{key:"cleanup",value:function(){this.state=Object.entries(this.state).reduce((function(t,e){var n=l(e,2),r=n[0],i=n[1],o=D(i);return o&&(t[r]=Object.assign(P(),o)),t}),{});var t={controlStates:j,logItems:[]};this.channel.emit(S,t),u.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state}},{key:"getLog",value:function(t){var e=this.getState(t),r=e.calls,i=n(e.shadowCalls);r.forEach((function(t,e){i[e]=t}));var o=new Set;return i.reduceRight((function(t,e){return e.args.forEach((function(t){(null==t?void 0:t.__callId__)&&o.add(t.__callId__)})),e.path.forEach((function(t){t.__callId__&&o.add(t.__callId__)})),(e.interceptable||e.exception)&&!o.has(e.id)&&(t.unshift({callId:e.id,status:e.status,ancestors:e.ancestors}),o.add(e.id)),t}),[])}},{key:"instrument",value:function(t,e){var n=this;if(!A(t))return t;var r=e.mutate,o=void 0!==r&&r,a=e.path,s=void 0===a?[]:a;return Object.keys(t).reduce((function(r,o){var a=t[o];return"function"!=typeof a?(r[o]=n.instrument(a,i(i({},e),{},{path:s.concat(o)})),r):"function"==typeof a.__originalFn__?(r[o]=a,r):(r[o]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.track(o,a,r,e)},r[o].__originalFn__=a,Object.defineProperty(r[o],"name",{value:o,writable:!1}),Object.keys(a).length>0&&Object.assign(r[o],n.instrument(i({},a),i(i({},e),{},{path:s.concat(o)}))),r)}),o?t:function(t){try{return new t.constructor}catch(e){return{}}}(t))}},{key:"track",value:function(t,e,n,r){var o,a,s,l,c=(null==n||null===(o=n[0])||void 0===o?void 0:o.__storyId__)||(null===(a=u.__STORYBOOK_PREVIEW__)||void 0===a||null===(s=a.selectionStore)||void 0===s||null===(l=s.selection)||void 0===l?void 0:l.storyId),f=this.getState(c),d=f.cursor,y=f.ancestors;this.setState(c,{cursor:d+1});var v="".concat(y.slice(-1)[0]||c," [").concat(d,"] ").concat(t),g=r.path,_=void 0===g?[]:g,h=r.intercept,p=void 0!==h&&h,b=r.retain,O=void 0!==b&&b,m="function"==typeof p?p(t,_):p,S={id:v,cursor:d,storyId:c,ancestors:y,path:_,method:t,args:n,interceptable:m,retain:O},I=(m&&!y.length?this.intercept:this.invoke).call(this,e,S,r);return this.instrument(I,i(i({},r),{},{mutate:!0,path:[{__callId__:S.id}]}))}},{key:"intercept",value:function(t,n,r){var a=this,l=this.getState(n.storyId),c=l.chainedCallIds,u=l.isDebugging,f=l.playUntil,d=c.has(n.id);return!u||d||f?(f===n.id&&this.setState(n.storyId,{playUntil:void 0}),this.invoke(t,n,r)):new Promise((function(t){a.setState(n.storyId,(function(e){return{isLocked:!1,resolvers:i(i({},e.resolvers),{},o({},n.id,t))}}))})).then((function(){return a.setState(n.storyId,(function(t){var r=t.resolvers,i=n.id;return r[i],{isLocked:!0,resolvers:e(r,[i].map(s))}})),a.invoke(t,n,r)}))}},{key:"invoke",value:function(e,r,o){var a=this,s=this.getState(r.storyId),c=s.callRefsByResult,f=s.renderPhase,d=i(i({},r),{},{args:r.args.map((function e(n){var r,i;if(c.has(n))return c.get(n);if(n instanceof Array)return n.map(e);if(n instanceof Date)return{__date__:{value:n.toISOString()}};if(n instanceof Error)return{__error__:{name:n.name,message:n.message,stack:n.stack}};if(n instanceof RegExp)return{__regexp__:{flags:n.flags,source:n.source}};if(n instanceof u.window.HTMLElement){var o=n.prefix,a=n.localName,s=n.id,f=n.classList,d=n.innerText;return{__element__:{prefix:o,localName:a,id:s,classNames:Array.from(f),innerText:d}}}return"function"==typeof n?{__function__:{name:n.name}}:"symbol"==t(n)?{__symbol__:{description:n.description}}:"object"==t(n)&&null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name&&"Object"!==(null==n||null===(i=n.constructor)||void 0===i?void 0:i.name)?{__class__:{name:n.constructor.name}}:"[object Object]"===Object.prototype.toString.call(n)?Object.fromEntries(Object.entries(n).map((function(t){var n=l(t,2),r=n[0],i=n[1];return[r,e(i)]}))):n}))});r.path.forEach((function(t){(null==t?void 0:t.__callId__)&&a.setState(r.storyId,(function(e){var n=e.chainedCallIds;return{chainedCallIds:new Set(Array.from(n).concat(t.__callId__))}}))}));var y=function(t){if(t instanceof Error){var e=t.name,o=t.message,s=t.stack,l=t.callId,c={name:e,message:o,stack:s,callId:void 0===l?r.id:l};if(a.update(i(i({},d),{},{status:"error",exception:c})),a.setState(r.storyId,(function(e){return{callRefsByResult:new Map([].concat(n(Array.from(e.callRefsByResult.entries())),[[t,{__callId__:r.id,retain:r.retain}]]))}})),r.ancestors.length)throw Object.prototype.hasOwnProperty.call(t,"callId")||Object.defineProperty(t,"callId",{value:r.id}),t;if(t!==N)throw v.warn(t),h}throw t};try{if("played"===f&&!r.retain)throw N;var g=(o.getArgs?o.getArgs(r,this.getState(r.storyId)):r.args).map((function(t){return"function"!=typeof t||Object.keys(t).length?t:function(){var e=a.getState(r.storyId),i=e.cursor,o=e.ancestors;a.setState(r.storyId,{cursor:0,ancestors:[].concat(n(o),[r.id])});var s=function(){return a.setState(r.storyId,{cursor:i,ancestors:o})},l=!1;try{var c=t.apply(void 0,arguments);return c instanceof Promise?(l=!0,c.finally(s)):c}finally{l||s()}}})),_=e.apply(void 0,n(g));return _&&["object","function","symbol"].includes(t(_))&&this.setState(r.storyId,(function(t){return{callRefsByResult:new Map([].concat(n(Array.from(t.callRefsByResult.entries())),[[_,{__callId__:r.id,retain:r.retain}]]))}})),this.update(i(i({},d),{},{status:_ instanceof Promise?"active":"done"})),_ instanceof Promise?_.then((function(t){return a.update(i(i({},d),{},{status:"done"})),t}),y):_}catch(p){return y(p)}}},{key:"update",value:function(t){this.channel.emit(m,t),this.setState(t.storyId,(function(e){var n=e.calls.concat(t).reduce((function(t,e){return Object.assign(t,o({},e.id,e))}),{});return{calls:Object.values(n).sort((function(t,e){return t.id.localeCompare(e.id,void 0,{numeric:!0})}))}})),this.sync(t.storyId)}},{key:"sync",value:function(t){var e=this,n=function(){var n,r=e.getState(t),i=r.isLocked,o=r.isPlaying,a=e.getLog(t),s=null===(n=a.filter((function(t){return!t.ancestors.length})).find((function(t){return"waiting"===t.status})))||void 0===n?void 0:n.callId,l=a.some((function(t){return"active"===t.status}));if(i||l||0===a.length){var c={controlStates:j,logItems:a};e.channel.emit(S,c)}else{var u=a.some((function(t){return["done","error"].includes(t.status)})),f={controlStates:{start:u,back:u,goto:!0,next:o,end:o},logItems:a,pausedAt:s};e.channel.emit(S,f)}};this.setState(t,(function(t){var e=t.syncTimeout;return clearTimeout(e),{syncTimeout:setTimeout(n,0)}}))}}],d&&a(c.prototype,d),y&&a(c,y),Object.defineProperty(c,"prototype",{writable:!1}),r}()}}}))}();
//# sourceMappingURL=index-legacy.c64d6e30.js.map
